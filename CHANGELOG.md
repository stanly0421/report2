# è®Šæ›´æ—¥èªŒ (CHANGELOG)

æœ¬æ–‡ä»¶è¨˜éŒ„å°ˆæ¡ˆå¾éŸ³æ¨‚æ’­æ”¾å™¨è½‰æ›ç‚º YouTube éŸ³æ¨‚æ’­æ”¾å™¨çš„æ‰€æœ‰è®Šæ›´ã€‚

## [1.0.0] - 2025-12-08

### æ–°å¢åŠŸèƒ½ (Added)

#### æ ¸å¿ƒåŠŸèƒ½
- âœ¨ **YouTube å½±ç‰‡æœå°‹**: æ•´åˆ YouTube Data API v3
- âœ¨ **åµŒå…¥å¼æ’­æ”¾å™¨**: ä½¿ç”¨ Qt WebEngine åµŒå…¥ YouTube æ’­æ”¾å™¨
- âœ¨ **æ’­æ”¾æ¸…å–®ç®¡ç†**: å‰µå»ºã€ç·¨è¼¯ã€åˆªé™¤å¤šå€‹æ’­æ”¾æ¸…å–®
- âœ¨ **æˆ‘çš„æœ€æ„›**: ä¸€éµåŠ å…¥/ç§»é™¤æœ€æ„›åŠŸèƒ½
- âœ¨ **æ’­æ”¾æ¨¡å¼**: éš¨æ©Ÿæ’­æ”¾å’Œå¾ªç’°æ’­æ”¾æ¨¡å¼
- âœ¨ **èƒŒæ™¯æ’­æ”¾**: æœ€å°åŒ–è¦–çª—å¾Œç¹¼çºŒæ’­æ”¾

#### UI/UX
- ğŸ¨ **Spotify é¢¨æ ¼ UI**: æ·±è‰²ä¸»é¡Œ (#121212)
- ğŸ¨ **ç¶ è‰²å¼·èª¿è‰²**: Spotify ç¶  (#1DB954)
- ğŸ¨ **éŸ¿æ‡‰å¼ä½ˆå±€**: ä½¿ç”¨ QSplitter å¯èª¿æ•´é¢æ¿å¤§å°
- ğŸ¨ **ç¾ä»£åŒ–æ§åˆ¶**: åœ“è§’æŒ‰éˆ•å’Œæµæš¢å‹•ç•«

#### æ–‡ä»¶
- ğŸ“ **README.md**: å®Œæ•´çš„å°ˆæ¡ˆèªªæ˜
- ğŸ“ **USER_GUIDE.md**: è©³ç´°çš„ä½¿ç”¨è€…æŒ‡å—
- ğŸ“ **TESTING.md**: 36 å€‹æ¸¬è©¦æ¡ˆä¾‹
- ğŸ“ **SUMMARY.md**: å°ˆæ¡ˆç¸½çµ
- ğŸ“ **UI_DESIGN.md**: UI è¨­è¨ˆè¦ç¯„
- ğŸ“ **CHANGELOG.md**: è®Šæ›´æ—¥èªŒï¼ˆæœ¬æª”æ¡ˆï¼‰

#### å·¥å…·
- ğŸ”§ **setup_api_key.sh**: Linux/macOS API Key è¨­ç½®è…³æœ¬
- ğŸ”§ **setup_api_key.bat**: Windows API Key è¨­ç½®è…³æœ¬

### è®Šæ›´ (Changed)

#### å°ˆæ¡ˆé…ç½®
- ğŸ“¦ `last-report.pro`: 
  - æ–°å¢ `webenginewidgets` æ¨¡çµ„
  - æ–°å¢ `network` æ¨¡çµ„
  - ç§»é™¤ `multimedia` å’Œ `multimediawidgets`ï¼ˆä¸å†éœ€è¦ï¼‰

#### æ¨™é ­æª”æ¡ˆ (widget.h)
- ğŸ”„ æ–°å¢ `QWebEngineView` å–ä»£ `QMediaPlayer`
- ğŸ”„ æ–°å¢ `QNetworkAccessManager` è™•ç† API è«‹æ±‚
- ğŸ”„ æ–°å¢ `VideoInfo` çµæ§‹å–ä»£ `SongInfo`
- ğŸ”„ ä¿®æ”¹ `Playlist` çµæ§‹ä½¿ç”¨ `QList<VideoInfo>`
- ğŸ”„ æ–°å¢æœå°‹ç›¸é—œçš„ slot å‡½å¼
- ğŸ”„ ç§»é™¤æœ¬åœ°æª”æ¡ˆæ’­æ”¾ç›¸é—œçš„å‡½å¼

#### å¯¦ä½œæª”æ¡ˆ (widget.cpp)
- ğŸ”„ å®Œå…¨é‡å¯« `setupUI()` æ–¹æ³•ï¼š
  - æ–°å¢æœå°‹æ¬„
  - æ–°å¢ WebEngineView æ’­æ”¾å™¨
  - é‡æ–°è¨­è¨ˆæ§åˆ¶é¢æ¿
  - æ–°å¢æœå°‹çµæœåˆ—è¡¨
- ğŸ”„ æ–°å¢ `searchYouTube()` æ–¹æ³•
- ğŸ”„ æ–°å¢ `onNetworkReplyFinished()` è™•ç† API å›æ‡‰
- ğŸ”„ æ–°å¢ `showSearchResults()` é¡¯ç¤ºæœå°‹çµæœ
- ğŸ”„ ä¿®æ”¹ `playVideo()` å–ä»£åŸæœ¬çš„ `playSong()`
- ğŸ”„ æ›´æ–° `savePlaylistsToFile()` å„²å­˜å½±ç‰‡è³‡è¨Š
- ğŸ”„ æ›´æ–° `loadPlaylistsFromFile()` è¼‰å…¥å½±ç‰‡è³‡è¨Š

#### UI æª”æ¡ˆ (widget.ui)
- ä¿æŒæœ€å°åŒ–ï¼ˆUI ä¸»è¦é€šéç¨‹å¼ç¢¼å»ºç«‹ï¼‰

### ç§»é™¤ (Removed)

#### åŠŸèƒ½
- âŒ æœ¬åœ°éŸ³æ¨‚æª”æ¡ˆæ’­æ”¾
- âŒ éŸ³é‡æ§åˆ¶ï¼ˆç”± YouTube æ’­æ”¾å™¨è™•ç†ï¼‰
- âŒ é€²åº¦æ¢æ§åˆ¶ï¼ˆç”± YouTube æ’­æ”¾å™¨è™•ç†ï¼‰
- âŒ å°é¢ä¸Šå‚³åŠŸèƒ½
- âŒ ID3 æ¨™ç±¤è®€å–

#### UI å…ƒä»¶
- âŒ `QMediaPlayer` å’Œ `QAudioOutput`
- âŒ éŸ³é‡æ»‘æ¡¿å’Œæ¨™ç±¤
- âŒ é€²åº¦æ»‘æ¡¿å’Œæ™‚é–“é¡¯ç¤º
- âŒ å°é¢é¡¯ç¤ºæ¨™ç±¤
- âŒ æª”æ¡ˆé¸æ“‡å°è©±æ¡†

#### å‡½å¼
- âŒ `extractSongInfo()` - ä¸å†éœ€è¦è®€å–æœ¬åœ°æª”æ¡ˆ
- âŒ `updateCoverArt()` - ä¸å†éœ€è¦å°é¢
- âŒ `updateTimeDisplay()` - æ™‚é–“ç”± YouTube è™•ç†
- âŒ `formatTime()` - ä¸å†éœ€è¦æ ¼å¼åŒ–æ™‚é–“
- âŒ `onPositionChanged()` - ä¸å†éœ€è¦
- âŒ `onDurationChanged()` - ä¸å†éœ€è¦
- âŒ `onVolumeChanged()` - ç”± YouTube è™•ç†
- âŒ `onUploadCoverClicked()` - ä¸å†éœ€è¦
- âŒ `saveCustomCover()` - ä¸å†éœ€è¦
- âŒ `getCustomCoverPath()` - ä¸å†éœ€è¦

### ä¿®å¾© (Fixed)

#### å®‰å…¨æ€§
- ğŸ”’ ç§»é™¤ç¡¬ç·¨ç¢¼çš„ API Key
- ğŸ”’ ä½¿ç”¨ä½”ä½ç¬¦ `YOUR_YOUTUBE_API_KEY_HERE`
- ğŸ”’ æä¾›å®‰å…¨çš„è¨­ç½®è…³æœ¬

#### ç¨‹å¼ç¢¼å“è³ª
- ğŸ› ç§»é™¤æœªå¯¦ä½œçš„ `updateNextVideoDisplay()` å‡½å¼
- ğŸ› æ”¹é€² play/pause åŠŸèƒ½è¨»è§£
- ğŸ› ä¿®æ­£è¨­ç½®è…³æœ¬çš„æ­£å‰‡è¡¨é”å¼

#### æ–‡ä»¶
- ğŸ“š ä¿®æ­£ API Key è¨­ç½®èªªæ˜
- ğŸ“š æ”¹é€²éŒ¯èª¤è¨Šæ¯æç¤º
- ğŸ“š æ–°å¢è©³ç´°çš„ç–‘é›£æ’è§£æŒ‡å—

### å®‰å…¨æ€§ (Security)

- ğŸ” é€šé CodeQL å®‰å…¨æƒæ
- ğŸ” ç„¡å·²çŸ¥æ¼æ´
- ğŸ” ä¸æš´éœ²æ•æ„Ÿè³‡è¨Š
- ğŸ” ä½¿ç”¨ HTTPS é€£ç·š

## æª”æ¡ˆè®Šæ›´çµ±è¨ˆ

### æ–°å¢æª”æ¡ˆ
```
README.md         (å®Œå…¨é‡å¯«)
USER_GUIDE.md     (æ–°å¢)
TESTING.md        (æ–°å¢)
SUMMARY.md        (æ–°å¢)
UI_DESIGN.md      (æ–°å¢)
CHANGELOG.md      (æ–°å¢)
setup_api_key.sh  (æ–°å¢)
setup_api_key.bat (æ–°å¢)
```

### ä¿®æ”¹æª”æ¡ˆ
```
last-report.pro   (+2 è¡Œ: webenginewidgets, network)
widget.h          (å®Œå…¨é‡å¯«: ~80 è¡Œè®Šæ›´)
widget.cpp        (å®Œå…¨é‡å¯«: ~1000 è¡Œè®Šæ›´)
.gitignore        (+3 è¡Œ: build/, *.backup, widget_old.cpp)
```

### åˆªé™¤æª”æ¡ˆ
```
ç„¡ (ä¿ç•™æ‰€æœ‰åŸå§‹æª”æ¡ˆä»¥ä¾›åƒè€ƒ)
```

## ç¨‹å¼ç¢¼çµ±è¨ˆ

### ç¨‹å¼ç¢¼è¡Œæ•¸
```
widget.h:
  - åŸå§‹: 148 è¡Œ
  - ç¾åœ¨: 105 è¡Œ
  - è®Šæ›´: -43 è¡Œ (ç°¡åŒ–çµæ§‹)

widget.cpp:
  - åŸå§‹: 1266 è¡Œ
  - ç¾åœ¨: 1013 è¡Œ
  - è®Šæ›´: -253 è¡Œ (ç§»é™¤è¤‡é›œé‚è¼¯)
```

### æ–°å¢æ–‡ä»¶
```
README.md      : 200+ è¡Œ
USER_GUIDE.md  : 400+ è¡Œ
TESTING.md     : 550+ è¡Œ
SUMMARY.md     : 300+ è¡Œ
UI_DESIGN.md   : 400+ è¡Œ
CHANGELOG.md   : æœ¬æª”æ¡ˆ

ç¸½è¨ˆ: ~2000 è¡Œæ–‡ä»¶
```

## ä¾è³´è®Šæ›´

### æ–°å¢ä¾è³´
```
Qt WebEngine (Qt6::WebEngineWidgets)
Qt Network (Qt6::Network)
```

### ç§»é™¤ä¾è³´
```
Qt Multimedia (Qt6::Multimedia)
Qt MultimediaWidgets (Qt6::MultimediaWidgets)
```

### å¤–éƒ¨ä¾è³´
```
YouTube Data API v3 (éœ€è¦ API Key)
```

## è³‡æ–™æ ¼å¼è®Šæ›´

### æ’­æ”¾æ¸…å–®å„²å­˜æ ¼å¼ (JSON)

#### èˆŠæ ¼å¼ (playlists.json)
```json
{
  "playlists": [
    {
      "name": "æ’­æ”¾æ¸…å–®åç¨±",
      "songs": [
        {
          "filePath": "/path/to/song.mp3",
          "title": "æ­Œæ›²æ¨™é¡Œ",
          "artist": "è—è¡“å®¶"
        }
      ]
    }
  ]
}
```

#### æ–°æ ¼å¼ (youtube_playlists.json)
```json
{
  "playlists": [
    {
      "name": "æ’­æ”¾æ¸…å–®åç¨±",
      "videos": [
        {
          "videoId": "YouTubeå½±ç‰‡ID",
          "title": "å½±ç‰‡æ¨™é¡Œ",
          "channelTitle": "é »é“åç¨±",
          "thumbnailUrl": "ç¸®åœ–ç¶²å€",
          "description": "æè¿°",
          "isFavorite": false
        }
      ]
    }
  ],
  "lastPlaylist": "ä¸Šæ¬¡æ’­æ”¾çš„æ¸…å–®åç¨±"
}
```

## å‡ç´šæŒ‡å—

### å¾èˆŠç‰ˆæœ¬é·ç§»

#### 1. å‚™ä»½è³‡æ–™
```bash
# å‚™ä»½èˆŠçš„æ’­æ”¾æ¸…å–®
cp ~/.local/share/<AppName>/playlists.json ~/playlists_backup.json
```

#### 2. æ¸…ç†èˆŠæª”æ¡ˆ
```bash
# æ¸…ç†èˆŠçš„ç·¨è­¯æª”æ¡ˆ
make clean
rm -rf build/
```

#### 3. è¨­ç½® API Key
```bash
# ä½¿ç”¨è¨­ç½®è…³æœ¬
./setup_api_key.sh
```

#### 4. é‡æ–°ç·¨è­¯
```bash
qmake6 last-report.pro
make
```

#### 5. åŸ·è¡Œæ–°ç‰ˆæœ¬
```bash
./last-report
```

**æ³¨æ„**: ç”±æ–¼è³‡æ–™æ ¼å¼å®Œå…¨ä¸åŒï¼ŒèˆŠçš„æ’­æ”¾æ¸…å–®ç„¡æ³•è‡ªå‹•é·ç§»ã€‚è«‹æ‰‹å‹•é‡æ–°å»ºç«‹æ’­æ”¾æ¸…å–®ã€‚

## å·²çŸ¥å•é¡Œ

### 1.0.0 ç‰ˆæœ¬
- âš ï¸ æ’­æ”¾/æš«åœæŒ‰éˆ•ç‚ºç°¡åŒ–å¯¦ä½œï¼Œç„¡æ³•çœŸæ­£æš«åœ YouTube æ’­æ”¾å™¨
- âš ï¸ ç„¡æ³•é¡¯ç¤ºæ’­æ”¾é€²åº¦
- âš ï¸ ç„¡æ³•èª¿æ•´éŸ³é‡ï¼ˆéœ€ä½¿ç”¨ç³»çµ±éŸ³é‡ï¼‰
- âš ï¸ æŸäº›åœ°å€å¯èƒ½ç„¡æ³•æ’­æ”¾ç‰¹å®šå½±ç‰‡

### è¨ˆåŠƒä¿®å¾©
- ğŸ”œ å¯¦ä½œå®Œæ•´çš„ YouTube iframe API æ§åˆ¶
- ğŸ”œ æ–°å¢é€²åº¦æ¢é¡¯ç¤º
- ğŸ”œ æ–°å¢éŸ³é‡æ§åˆ¶

## è²¢ç»è€…

- **stanly0421**: å°ˆæ¡ˆç™¼èµ·äºº
- **GitHub Copilot**: ç¨‹å¼ç¢¼å¯¦ä½œå”åŠ©

## æ„Ÿè¬

ç‰¹åˆ¥æ„Ÿè¬ï¼š
- Qt Framework åœ˜éšŠ
- YouTube API æ–‡ä»¶åœ˜éšŠ
- Spotify è¨­è¨ˆåœ˜éšŠï¼ˆéˆæ„Ÿä¾†æºï¼‰
- æ‰€æœ‰é–‹æºç¤¾ç¾¤è²¢ç»è€…

## æˆæ¬Š

æœ¬å°ˆæ¡ˆéµå®ˆ YouTube API æœå‹™æ¢æ¬¾ã€‚

## ç›¸é—œé€£çµ

- [GitHub Repository](https://github.com/stanly0421/last-report)
- [YouTube API æ–‡ä»¶](https://developers.google.com/youtube/v3)
- [Qt WebEngine æ–‡ä»¶](https://doc.qt.io/qt-6/qtwebengine-index.html)
- [å•é¡Œå›å ±](https://github.com/stanly0421/last-report/issues)

---

**ç‰ˆæœ¬**: 1.0.0  
**ç™¼å¸ƒæ—¥æœŸ**: 2025-12-08  
**ç‹€æ…‹**: âœ… ç©©å®šç‰ˆæœ¬

æ„Ÿè¬ä½¿ç”¨ YouTube éŸ³æ¨‚æ’­æ”¾å™¨ï¼ğŸµ
